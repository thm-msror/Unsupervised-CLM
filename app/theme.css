/* ===== Aurora Indigo → Teal — VERDICT ===== */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,600;1,700&family=Inter:wght@300;400;600;800&display=swap');

:root{
  --bg:#12263e; --bg-mid:#0f2a43; --bg-soft:#0d2538;
  --glow-teal:rgba(26,196,190,.28);
  --glow-violet:rgba(160,150,255,.24);
  --brand:#cfe4ff; --brand-2:#ffffff; --accent:#5a8fff;
  --ink:#f6f9ff; --muted:#cedbf2;
  --glass-1:rgba(255,255,255,.14); --glass-2:rgba(255,255,255,.07);
  --glass-border:rgba(255,255,255,.24); --hair:rgba(255,255,255,.12);
  --radius:20px; --shadow:0 28px 60px rgba(4,12,26,.55);
}

/* ===== Base canvas & typography ===== */
html,body,[data-testid="stAppViewContainer"]{
  background:
    radial-gradient(60% 50% at 85% 8%, var(--glow-teal), transparent 60%),
    radial-gradient(65% 55% at 18% 82%, var(--glow-violet), transparent 62%),
    linear-gradient(180deg, var(--bg), var(--bg-mid) 55%, var(--bg-soft));
  color:var(--ink);
  font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial !important;
}
section.main > div { padding-top: 0 !important; }

/* Hide accidental code overlays globally */
[data-testid="stCodeBlock"], pre, code { display:none !important; }

/* ===== Containers ===== */
.mf-container{ max-width:min(1280px, 96vw); margin:0 auto; padding:0 20px; }

.results-wrap{
  width:100vw;
  margin-left:calc(50% - 50vw);
  padding:0;
  position:relative; /* allow divider pseudo-element */

  /* Alignment knobs */
  --tab-gap: 12px;     /* spacing below tabs */
  --card-mt: 12px;     /* top margin of .card (keep in sync) */
  --chat-offset: calc(var(--tab-gap) + var(--card-mt)); /* makes chat top == first card top */
}
.results-wrap [data-testid="stHorizontalBlock"]{
  align-items:flex-start;
  gap:40px !important;
  column-gap:40px !important;
}
.results-wrap [data-testid="column"]{
  padding-left:0 !important;
  padding-right:0 !important;
}
@media (min-width:1680px){
  .results-wrap{ max-width:min(94vw, 1720px); }
}

/* Soft divider glow between sections */
.results-wrap::after{
  content:"";
  position:absolute;
  left:50%;
  top:110px;
  bottom:40px;
  width:2px;
  background:linear-gradient(180deg, rgba(255,255,255,.25), rgba(255,255,255,.05));
  backdrop-filter:blur(2px);
  border-radius:1px;
  transform:translateX(-50%);
  pointer-events:none;
}

/* ===== Remove Streamlit header; use our own ===== */
header[data-testid="stHeader"], div[data-testid="stHeader"]{ background:transparent !important; border:none !important; }
header[data-testid="stHeader"] > *, div[data-testid="stHeader"] > *{ display:none !important; }

/* ===== Custom Header ===== */
.mf-header{
  position:sticky; top:0; z-index:100; left:0; right:0;
  width:100vw; margin-left:calc(50% - 50vw);
  background:linear-gradient(180deg, rgba(8,20,34,.92), rgba(10,26,44,.88)) !important;
  border-bottom:1px solid var(--hair);
}
.mf-nav{
  max-width:1200px; margin:0 auto; padding:10px 20px; height:64px;
  display:flex; align-items:center; gap:18px;
}
.brand-lockup{ display:inline-flex; align-items:center; gap:14px; color:var(--ink); text-decoration:none; }
.brand-mark{ width:26px; height:26px; filter: drop-shadow(0 2px 6px rgba(0,0,0,.35)); }
.brand-text{
  font-family:"Playfair Display", serif; font-style:italic; font-weight:700;
  font-size: clamp(22px, 3vw, 30px); letter-spacing:.6px; line-height:1; color:var(--ink);
  position:relative; padding-bottom:6px; text-shadow:0 8px 22px rgba(0,0,0,.45);
}
.brand-text::after{
  content:""; position:absolute; left:0; bottom:0; width:100%; height:4px; border-radius:4px;
  background:linear-gradient(90deg, #5aa4ff, #8dc7ff 60%, transparent); opacity:.9;
}

/* Nav */
.nav-links{ list-style:none; display:flex; align-items:center; gap:22px; margin:0; padding:0; flex:1 1 auto; justify-content:flex-end; }
.nav-links a{
  color:var(--muted); text-decoration:none; font-weight:600;
  padding:10px 12px; border-radius:10px; line-height:1;
}
.nav-links a:hover{ color:var(--ink); }
.nav-links .nav-cta{
  color:#071a33; font-weight:800;
  background:linear-gradient(180deg,#7aa5ff,#5a8fff);
  border:1px solid rgba(255,255,255,.22);
  border-radius:18px;
  padding:10px 16px;
  box-shadow:0 6px 16px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.08);
}
.nav-links .nav-cta:hover{ filter:brightness(1.05); }
.mf-header, .mf-header *{ background:transparent !important; }

/* ===== Hero ===== */
.hero-block{ padding:52px 0 12px; }
.hero-content{ max-width:920px; margin:0 auto; text-align:center; }
.hero-title{
  font-family:"Playfair Display", serif; font-style:italic; font-weight:700;
  font-size: clamp(36px, 6vw, 64px); margin:0 0 8px;
}
.hero-subtitle{ color:var(--muted); margin:0; font-size: clamp(16px, 2vw, 18px); }

/* ===== Instructions ===== */
.how-card{
  width:clamp(320px, 70ch, 860px);
  margin:24px auto 14px !important;
  padding:18px 22px;
  border-radius:18px;
  background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
  border:1px solid rgba(255,255,255,.18);
  box-shadow: var(--shadow);
}
.how-list{ margin:0; padding-left:20px; }
.how-list li{ margin:8px 0; }

/* ===== Results cards ===== */
.card{
  background:linear-gradient(180deg,var(--glass-1),var(--glass-2));
  border:1px solid var(--glass-border);
  border-radius:var(--radius);
  padding:20px;
  box-shadow:var(--shadow);
  width:100%;
  margin:12px 0; /* <-- card top margin participates in chat alignment */
  color:var(--ink);
  box-sizing:border-box;
}

/* Slight lift on left-side cards to emphasize sectioning */
.results-wrap [data-testid="column"]:first-child .card{
  box-shadow:0 6px 26px rgba(0,0,0,.35);
  border:1px solid rgba(255,255,255,.15);
}

.section-head{ width:100%; margin:0 auto 8px; color:var(--ink); padding-top:8px; }
.section-head p{ margin:0; color:var(--muted); }

/* Key/Value rows */
.kv{ display:grid; grid-template-columns:260px 1fr; gap:14px; padding:14px 0; border-bottom:1px solid var(--hair); }
.kv:last-child{ border-bottom:none; }
.kv-key{ color:var(--muted); font-weight:700; }
.kv-value{ color:var(--ink); }

/* ===== Tabs (tighten look) ===== */
[data-baseweb="tab-list"]{ border-bottom:1px solid var(--hair); gap:.25rem; }
.stTabs [role="tab"]{
  background:transparent !important; border:none !important; border-radius:0 !important;
  color:var(--muted) !important; padding:.55rem .65rem !important; margin:0 .2rem; font-weight:700;
}
.stTabs [role="tab"]:hover{ color:var(--ink) !important; }
.stTabs [role="tab"][aria-selected="true"]{ color:#fff !important; box-shadow:0 3px 0 0 var(--accent) inset; }

/* ===== Chat panel (right column) ===== */
/* Beige chat look */
.chat-card{
  background: linear-gradient(180deg, rgba(250,245,235,.94), rgba(245,237,224,.88)) !important;
  border: 1px solid rgba(96,74,42,.25) !important;
  border-radius:20px;
  padding:0; /* title bar provides top padding */
  box-shadow:0 12px 40px rgba(0,0,0,.55);
  min-height:540px;
  max-height:72vh;
  overflow:auto;
  margin:12px 0 8px;
  transition:transform .2s ease, box-shadow .3s ease;
}

/* Sticky title bar inside the chat card */
.chat-titlebar{
  position:sticky; top:0;
  padding:12px 16px;
  font-weight:800;
  letter-spacing:.2px;
  color:#2a2a2a;
  background:linear-gradient(180deg, rgba(252,247,237,1), rgba(246,239,228,.96));
  border-bottom:1px solid rgba(96,74,42,.18);
  border-top-left-radius:20px;
  border-top-right-radius:20px;
  z-index:1;
}

/* Message bubbles (beige palette) */
.bubble{
  display:inline-block;
  padding:10px 12px;
  border-radius:14px;
  margin:6px 16px;  /* horizontal space since chat-card has no inner padding */
  line-height:1.3;
  max-width:100%;
  word-wrap:break-word;
}
.bubble.a{ background:rgba(0,0,0,.06) !important; color:#1e2735 !important; }
.bubble.u{ background:#2b4b74 !important; color:#e8f2ff !important; margin-left:auto; display:block; }

/* Compose row inside the column */
.stForm .row-widget.stButton > button{ height:42px; border-radius:14px; }
.stForm .stTextInput > div > div input{
  height:42px; border-radius:14px; padding:0 14px;
}

/* ===== Mobile ===== */
@media (max-width:900px){
  .mf-nav{ padding:8px 14px; }
  .brand-text{ font-size: clamp(20px, 6vw, 26px); }
  .hero-block{ padding:40px 0 8px; }
  .how-card{ width:clamp(280px, 88vw, 860px); }
  .kv{ grid-template-columns:1fr; }

  .results-wrap [data-testid="stHorizontalBlock"]{
    gap:12px !important;
    column-gap:12px !important;
  }
  .results-wrap::after{ display:none; }
}

/* Remove Streamlit's default side padding and max-width */
.main .block-container{
  padding-left:0 !important;
  padding-right:0 !important;
  max-width:100% !important;
}

/* ===== Section separation: keep tabs gap consistent */
.results-wrap .stTabs{ margin-bottom: var(--tab-gap) !important; }

/* ===== Align chat top to first results card top (single rule) ===== */
/* Pad the right column down by the exact offset produced by the tabs gap + card top margin */
.results-wrap [data-testid="stHorizontalBlock"] > [data-testid="column"]:nth-child(2){
  padding-top: var(--chat-offset) !important;
}

/* Divider looks good on light panel */
.results-wrap::after{
  background: linear-gradient(180deg, rgba(255,255,255,.35), rgba(255,255,255,.08)) !important;
}
